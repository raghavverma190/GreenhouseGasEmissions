<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/sidebar/country-select.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/sidebar/country-select.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useEffect } from 'react';
import 'react-dropdown/style.css';
import Dropdown from 'react-dropdown';
import { useState } from 'react';
import { setParams } from '../../utils/params';

/**
 * In this component countries(data to be shown on graph) is set using dropdowns
 * @component
 * @param {Object} props
 * @param {string} props.location
 * @param {string} props.history
 *
 */
export default function CountrySelect(props) {
  //Countries in dataset
  const options = [
    'Australia',
    'Austria',
    'Belarus',
    'Belgium',
    'Bulgaria',
    'Canada',
    'Croatia',
    'Cyprus',
    'Czech Republic',
    'Denmark',
    'Estonia',
    'European Union',
    'Finland',
    'France',
    'Germany',
    'Greece',
    'Hungary',
    'Iceland',
    'Ireland',
    'Italy',
    'Japan',
    'Latvia',
    'Liechtenstein',
    'Lithuania',
    'Luxembourg',
    'Malta',
    'Netherlands',
    'New Zealand',
    'Norway',
    'Poland',
    'Portugal',
    'Romania',
    'Russian Federation',
    'Slovakia',
    'Slovenia',
    'Spain',
    'Sweden',
    'Switzerland',
    'Turkey',
    'Ukraine',
    'United Kingdom',
    'United States of America',
  ];

  const [country1, setCountry1] = useState(null);
  const [country2, setCountry2] = useState(null);
  const [country3, setCountry3] = useState(null);

  //function to update URL
  const updateURL = ({ query, parameter }) => {
    const url = setParams({
      query: query,
      parameter: parameter,
      location: props.location,
      set: true,
    });
    console.log(url);
    props.history.push(`?${url}`);
  };

  //useEffects triggered if any change in countries. If country selected by user is same, user is alerted
  useEffect(() => {
    if (country1) {
      if (country1 == country2 || country1 == country3) {
        alert('Please select different countries');
        return null;
      }
      updateURL({ query: 'country1', parameter: country1 });
    }
  }, [country1]);
  useEffect(() => {
    if (country2) {
      if (country2 == country3 || country2 == country1) {
        alert('Please select different countries');
        return null;
      }
      updateURL({ query: 'country2', parameter: country2 });
    }
  }, [country2]);
  useEffect(() => {
    if (country3) {
      if (country3 == country1 || country3 == country2) {
        alert('Please select different countries');
        return null;
      }
      updateURL({ query: 'country3', parameter: country3 });
    }
  }, [country3]);

  return (
    &lt;div className='country-select'>
      &lt;h4>
        &lt;b>Select country:&lt;/b>
      &lt;/h4>
      &lt;Dropdown
        options={options}
        placeholder='Select a country'
        value={country1}
        onChange={(e) => setCountry1(e.value)}
      />
      &lt;br />
      &lt;Dropdown
        options={options}
        placeholder='Select a country'
        value={country2}
        onChange={(e) => setCountry2(e.value)}
      />
      &lt;br />
      &lt;Dropdown
        options={options}
        placeholder='Select a country'
        value={country3}
        onChange={(e) => setCountry3(e.value)}
      />
      &lt;br />
    &lt;/div>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Components.html">Components</a></li><li><a href="Graph.html">Graph</a></li><li><a href="MapChart.html">MapChart</a></li><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#getParams">getParams</a></li><li><a href="global.html#setParams">setParams</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Aug 12 2021 16:17:29 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
